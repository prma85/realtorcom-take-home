(this["webpackJsonprealtorcom-take-home"]=this["webpackJsonprealtorcom-take-home"]||[]).push([[0],{26:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var r=c(18),n=(c(26),c(9)),s=c(1),i=c(8),a=c(2),o=s.createContext({site:{},profile:{},data:{}}),l=c(0),j=function(e){var t=e.render;if(console.log(typeof t),"string"===typeof t)document.title=t;else if("function"===typeof t){var c=document.title.split(" - "),r=t(c.length>=2?c[c.length-1]:c[0]);document.title=r}return Object(l.jsx)(s.Fragment,{})},d=function(e){var t=new Date(e),c=t.getHours(),r=t.getMinutes(),n=c>=12?"pm":"am";c=(c=(c%=12)||12)<10?"0".concat(c):c,r=r<10?"0".concat(r):r;var s="".concat(c,":").concat(r," ").concat(n);return"".concat(function(e){switch(e){case 1:return"Jan";case 2:return"Feb";case 3:return"Mar";case 4:return"Apr";case 5:return"May";case 6:return"Jum";case 7:return"Jul";case 8:return"Aug";case 9:return"Sep";case 10:return"Oct";case 11:return"Nov";case 12:return"Dec";default:return"Invalid Month"}}(t.getMonth()+1)," ").concat(t.getDate(),", ").concat(t.getFullYear(),", ").concat(s)},u=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},b=function(e){var t=e.replace(/([A-Z])/g," $1");return u(t)},p=function(e){var t=e.data;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"title",children:Object(l.jsx)(i.b,{to:"/details/".concat(t.id),title:"Details about ".concat(t.properties.title),children:t.properties.title})}),Object(l.jsx)("td",{className:"mag",children:t.properties.mag}),Object(l.jsx)("td",{className:"time",children:d(t.properties.time)})]})},O=function(e){var t=e.desc,c=e.title,r=e.onClick,n=e.order;return Object(l.jsx)("th",{onClick:function(){return r(c)},children:"".concat(t||u(c)," ").concat(n(c))})},h=c(36),x=function(){var e=Object(l.jsx)(h.a,{style:{fontSize:72},spin:!0});return Object(l.jsxs)("div",{id:"loading",children:[Object(l.jsx)("div",{className:"icon",children:e}),Object(l.jsx)("div",{style:{fontSize:32},children:"Loading..."})]})},m=function(){var e=Object(s.useContext)(o).data,t=Object(a.g)().id,c=e.features.filter((function(e){return e.id===t}))[0];if(!c)return Object(l.jsx)(a.a,{to:"/404"});var r=c.properties.title;return Object(l.jsxs)("div",{id:"view-details",children:[Object(l.jsx)(j,{render:function(e){return"".concat(r," - ").concat(e)}}),Object(l.jsx)("h2",{className:"content-title",children:r}),Object(l.jsxs)("table",{className:"details",children:[Object(l.jsx)("caption",{children:"Details for the ".concat(r)}),Object(l.jsx)("tbody",{children:[{prop:"title"},{prop:"mag",desc:"Magnitude"},{prop:"time"},{prop:"status"},{prop:"tsunami"},{prop:"type"}].map((function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"bold",children:e.desc?e.desc:u(e.prop)}),Object(l.jsx)("td",{children:"time"===e.prop?d(c.properties[e.prop]):c.properties[e.prop]})]})}))})]})]})},f=c(21),v=function(){var e=Object(s.useContext)(o).data,t=e.metadata,c=e.features,r=t.title,i=Object(s.useState)({orderBy:"title",asc:!0}),a=Object(n.a)(i,2),j=a[0],d=a[1],u=Object(s.useState)(c),b=Object(n.a)(u,2),h=b[0],x=b[1],m=function(e){var t=Object(f.a)(h),c=!j.asc;t.sort(function(e,t){return function(c,r){return c.properties[e]>r.properties[e]?t?1:-1:c.properties[e]<r.properties[e]?t?-1:1:0}}(e,c)),x(t),d({orderBy:e,asc:c})},v=function(e){return e===j.orderBy?j.asc?"\u2b9d":"\u2b9f":""};return Object(l.jsxs)("div",{id:"view-home",children:[Object(l.jsx)("h2",{className:"content-title",children:r}),Object(l.jsxs)("table",{className:"list",children:[Object(l.jsx)("caption",{children:"List for the ".concat(r)}),Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)(O,{title:"title",onClick:m,order:v}),Object(l.jsx)(O,{title:"mag",desc:"Magnitude",onClick:m,order:v}),Object(l.jsx)(O,{title:"time",onClick:m,order:v})]})}),Object(l.jsx)("tbody",{children:h.map((function(e){return Object(l.jsx)(p,{data:e})}))})]})]})},g=function(e){var t=e.children,c=Object(s.useContext)(o),r=c.site,n=c.profile;return Object(l.jsxs)("div",{className:"layout",children:[Object(l.jsxs)("div",{className:"layout-header",children:[Object(l.jsx)("div",{className:"logo",children:Object(l.jsx)(i.b,{to:"/",children:Object(l.jsx)("img",{alt:"realtor.com logo",src:r.logoImage})})}),Object(l.jsx)("div",{className:"title",children:Object(l.jsx)("h1",{children:r.title})}),Object(l.jsx)("div",{className:"user",children:Object(l.jsx)(i.b,{to:"/profile",children:"Welcome ".concat(n.firstName)})})]}),Object(l.jsx)("div",{className:"layout-content",children:t})]})},N=function(){var e=Object(s.useContext)(o).profile,t=[{prop:"firstName"},{prop:"lastName"},{prop:"phone"},{prop:"email"},{prop:"bio"}];return Object(l.jsxs)("div",{id:"view-profile",children:[Object(l.jsx)("h2",{className:"content-title",children:"Profile"}),Object(l.jsxs)("table",{className:"profile",children:[Object(l.jsx)("caption",{children:"Details for the ".concat(e.firstName)}),Object(l.jsx)("tbody",{children:t.map((function(c,r){return Object(l.jsxs)("tr",{children:[0===r&&Object(l.jsx)("td",{className:"avatar",rowSpan:t.length,children:Object(l.jsx)("img",{width:"160",alt:"".concat(e.firstName,"'s avatar"),src:e.avatarImage})}),Object(l.jsx)("td",{className:"bold",children:b(c.prop)}),Object(l.jsx)("td",{children:e[c.prop]})]})}))})]})]})},y=function(){return Object(l.jsx)("div",{className:"error404",children:Object(l.jsx)("img",{alt:"Robot with 404 error BG",className:"error404__img",src:"https://www.boostability.com/content/wp-content/uploads/sites/2/2012/10/BOOST_BLOG_IMAGE_RB_SET_10_404_PAGE_1200x628px_v1_3.jpg"})})};function w(){var e=Object(s.useState)(null),t=Object(n.a)(e,2),c=t[0],r=t[1],d=Object(s.useState)(!1),u=Object(n.a)(d,2),b=u[0],p=u[1];return Object(s.useEffect)((function(){b||c||(p(!0),fetch("/database.json").then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){return console.error(e)})).then((function(){return setTimeout((function(){p(!1)}),1e3)})))}),[b,c]),Object(l.jsx)(o.Provider,{value:c,children:b||!c?Object(l.jsxs)("div",{id:"loading",children:[Object(l.jsx)(j,{render:"Loading..."}),Object(l.jsx)(x,{})]}):Object(l.jsx)(i.a,{children:Object(l.jsxs)(g,{children:[Object(l.jsx)(j,{render:null===c||void 0===c?void 0:c.site.title}),Object(l.jsxs)(a.d,{children:[Object(l.jsx)(a.b,{path:"/",exact:!0,component:v}),Object(l.jsx)(a.b,{path:"/profile",exact:!0,component:N}),Object(l.jsx)(a.b,{path:"/details/:id",exact:!0,component:m}),Object(l.jsx)(a.b,{component:y})]})]})})})}var _=document.getElementById("root");Object(r.render)(Object(l.jsx)(w,{}),_)}},[[33,1,2]]]);
//# sourceMappingURL=main.96901093.chunk.js.map